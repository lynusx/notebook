# painting -- 绘制与装饰

提供绘制装饰、文本样式、图像处理、形状定义和复杂视觉效果，是 `dart:ui` 的高级封装。

### 1.1 核心能力

- 文本样式（TextStyle、TextSpan、InlineSpan、PlaceholderSpan）
- 装饰与边框（BoxDecoration、ShapeDecoration、Border、BorderRadius、BoxShadow）
- 颜色与渐变（ColorSwatch、ColorScheme、Gradient、LinearGradient、RadialGradient、SweepGradient）
- 图像与图标（ImageProvider、AssetImage、NetworkImage、FileImage、MemoryImage、ImageCache、IconTheme）
- 形状与裁剪（ShapeBorder、RoundedRectangleBorder、CircleBorder、StadiumBorder、ContinuousRectangleBorder、BeveledRectangleBorder）
- 对齐与变换（Alignment、AlignmentDirectional、MatrixUtils、Transform）
- 几何计算（EdgeInsets、EdgeInsetsGeometry、FractionalOffset、Size、Rect、Offset）
- 文本 painters（TextPainter、TextPainterDebug）

### 1.2 库结构

```dart
flutter/painting
│
├── 文本与排版
│   ├── TextStyle               # 文本样式 (字体/大小/颜色/阴影)
│   ├── TextSpan                # 文本片段 (可嵌套样式)
│   ├── InlineSpan              # 内联片段基类
│   ├── PlaceholderSpan         # 占位符片段
│   ├── WidgetSpan              # Widget 片段 (文本中嵌入 Widget)
│   ├── TextPainter             # 文本绘制器 (测量/绘制)
│   ├── TextWidthBasis          # 文本宽度基准枚举
│   ├── TextHeightBehavior      # 文本高度行为
│   ├── StrutStyle              # 支柱样式
│   ├── TextAlign               # 文本对齐枚举
│   ├── TextDirection           # 文本方向枚举
│   ├── TextOverflow            # 文本溢出处理枚举
│   ├── TextDecoration          # 文本装饰枚举
│   ├── TextDecorationStyle     # 装饰样式枚举
│   ├── TextLeadingDistribution # 行首分布枚举
│   ├── TextScaler              # 文本缩放器
│   ├── PlaceholderDimensions   # 占位符尺寸
│   ├── PlaceholderAlignment    # 占位符对齐
│   ├── TextPainter.computeWidth()  # 计算文本宽度
│   └── TextPainter.computeDistanceToActualBaseline()  # 计算基线距离
│
├── 颜色与主题
│   ├── Color                   # 颜色 (dart:ui 扩展)
│   ├── Colors                  # Material 颜色常量
│   ├── MaterialColor           # Material 主色 (带色阶)
│   ├── MaterialAccentColor     # Material 强调色
│   ├── ColorSwatch<T>          # 色板基类
│   ├── ColorScheme             # Material 3 颜色方案
│   ├── HSLColor                # HSL 颜色空间
│   ├── HSVColor                # HSV 颜色空间
│   ├── ColorProperty           # 颜色诊断属性
│   ├── Color.lerp()            # 颜色线性插值
│   ├── HSLColor.lerp()         # HSL 插值
│   └── HSVColor.lerp()         # HSV 插值
│
├── 渐变与着色器
│   ├── Gradient                # 渐变基类
│   ├── LinearGradient          # 线性渐变
│   ├── RadialGradient          # 径向渐变
│   ├── SweepGradient           # 扫描渐变
│   ├── GradientRotation        # 渐变旋转变换
│   ├── GradientTransform       # 渐变变换基类
│   ├── TileMode                # 平铺模式枚举
│   └── ShaderWarmUp            # 着色器预热
│
├── 图像与图标
│   ├── ImageProvider<T>        # 图像提供者基类
│   ├── AssetImage              # 资源图像
│   ├── NetworkImage            # 网络图像
│   ├── FileImage               # 文件图像
│   ├── MemoryImage             # 内存图像
│   ├── ResizeImage             # 调整大小图像
│   ├── ExactAssetImage         # 精确资源图像
│   ├── NetworkImageLoadException  # 网络图像加载异常
│   ├── AssetBundleImageKey     # 资源包图像键
│   ├── ImageCache              # 图像缓存
│   ├── ImageCacheStatus        # 缓存状态
│   ├── ImageStream             # 图像流
│   ├── ImageStreamCompleter    # 图像流完成器
│   ├── ImageStreamListener     # 图像流监听器
│   ├── OneFrameImageStreamCompleter  # 单帧完成器
│   ├── MultiFrameImageStreamCompleter  # 多帧完成器 (GIF)
│   ├── ImageInfo               # 图像信息
│   ├── ImageConfiguration      # 图像配置
│   ├── ImageChunkEvent         # 图像加载进度事件
│   ├── IconThemeData           # 图标主题数据
│   └── IconTheme               # 图标主题继承
│
├── 装饰与背景
│   ├── Decoration              # 装饰基类
│   ├── BoxDecoration           # 盒子装饰 (颜色/渐变/图像/边框/阴影)
│   ├── ShapeDecoration         # 形状装饰
│   ├── FlutterLogoDecoration   # Flutter Logo 装饰
│   ├── DecorationImage         # 装饰图像
│   ├── DecorationImagePainter  # 装饰图像绘制器
│   ├── BoxPainter              # 盒子绘制器
│   ├── ShapeBorder             # 形状边框基类
│   ├── BorderSide              # 边框边样式
│   ├── Border                  # 四边边框
│   ├── BorderDirectional       # 方向性边框
│   ├── RoundedRectangleBorder  # 圆角矩形边框
│   ├── ContinuousRectangleBorder  # 连续圆角矩形边框
│   ├── BeveledRectangleBorder  # 斜角矩形边框
│   ├── CircleBorder            # 圆形边框
│   ├── StadiumBorder           # 体育场形边框
│   ├── StarBorder              # 星形边框 (Material 3)
│   ├── OvalBorder              # 椭圆形边框
│   └── InputBorder             # 输入边框基类 (实际在 material)
│
├── 阴影与效果
│   ├── BoxShadow               # 盒子阴影
│   ├── Shadow                  # 阴影基类
│   ├── BlurStyle               # 模糊样式枚举
│   ├── MaskFilter              # 遮罩滤镜
│   ├── ColorFilter             # 颜色滤镜
│   ├── ColorFilter.mode()      # 混合模式滤镜
│   ├── ColorFilter.matrix()    # 矩阵颜色滤镜
│   ├── ColorFilter.linearToSrgbGamma()  # 线性到 sRGB
│   ├── ColorFilter.srgbToLinearGamma()  # sRGB 到线性
│   ├── ImageFilter             # 图像滤镜
│   ├── ImageFilter.blur()      # 模糊滤镜
│   ├── ImageFilter.dilate()    # 膨胀滤镜
│   ├── ImageFilter.erode()     # 腐蚀滤镜
│   ├── ImageFilter.matrix()    # 矩阵变换滤镜
│   ├── ImageFilter.compose()   # 滤镜组合
│   └── FilterQuality           # 滤镜质量枚举
│
├── 几何与布局
│   ├── Alignment               # 对齐 (topLeft/center/bottomRight)
│   ├── AlignmentGeometry       # 对齐几何基类
│   ├── AlignmentDirectional    # 方向性对齐 (start/end)
│   ├── FractionalOffset        # 分数偏移 (0.0-1.0)
│   ├── EdgeInsets              # 边距 (left/top/right/bottom)
│   ├── EdgeInsetsGeometry      # 边距几何基类
│   ├── EdgeInsetsDirectional   # 方向性边距 (start/end)
│   ├── EdgeInsetsTween         # 边距补间动画
│   ├── TextAlignVertical       # 垂直文本对齐枚举
│   ├── Axis                    # 轴枚举 (horizontal/vertical)
│   ├── AxisDirection           # 轴方向枚举 (up/right/down/left)
│   ├── VerticalDirection       # 垂直方向枚举 (up/down)
│   └── TextBaseline            # 文本基线枚举
│
├── 变换与矩阵
│   ├── MatrixUtils             # 矩阵工具类
│   ├── MatrixUtils.createCylindricalProjectionTransform()  # 圆柱投影
│   ├── MatrixUtils.transformRect()  # 变换矩形
│   ├── MatrixUtils.getAsTranslation()  # 获取平移
│   ├── MatrixUtils.getAsScale()    # 获取缩放
│   ├── TransformProperty       # 变换诊断属性
│   ├── Offset                  # 偏移扩展方法
│   └── Size                    # 尺寸扩展方法
│
├── 边框半径
│   ├── BorderRadius            # 圆角半径
│   ├── BorderRadiusGeometry    # 圆角几何基类
│   ├── BorderRadiusDirectional # 方向性圆角
│   ├── Radius                  # 半径
│   └── Radius.circular()       # 圆形半径构造
│
├── 绘制与工具
│   ├── BoxBorder               # 盒子边框基类
│   ├── BorderTween             # 边框补间动画
│   ├── ShapeBorderTween        # 形状边框补间
│   ├── ContinuousStadiumBorder # 连续体育场边框
│   ├── PaintUtility            # 绘制工具 (内部)
│   ├── debugDisableShadows     # 禁用阴影调试标志
│   └── debugNetworkImageHttpClientProvider  # 网络图像 HTTP 客户端提供者
│
└── 箭头与路径
    ├── ArrowPath               # 箭头路径生成
    ├── CrossAxisAlignment      # 交叉轴对齐 (实际在 rendering)
    └── MainAxisAlignment       # 主轴对齐 (实际在 rendering)
```



---

